<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <!-- 반응형 & iOS 확대 방지 -->
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Hero vs Monster Typing Game</title>
  <link rel="stylesheet" href="style.css" />
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Black+Han+Sans&display=swap" rel="stylesheet">
  <link rel="icon" href="icons/favicon.ico">
</head>
<body>
  <div class="game-container">
    <div class="monitor">
      <div id="dust-container"></div>
      <div id="stage-indicator">Stage 1</div>
      <div class="hero-wrapper">
        <div id="hero-hearts"></div>
        <img src="hero.png" class="hero" id="hero" loading="eager" />
      </div>
      <img src="monsters/monster1.png" class="monster" id="monster" loading="eager" />
      <div class="health-bar"><div class="health-bar-inner"></div></div>
      <div id="gold-message"></div>
      <div id="game-over" class="game-over hidden">Game Over</div>
      <button id="retry-btn" class="hidden" type="button">재도전</button>
    </div>

    <!-- 효과음/배경음 -->
    <audio id="hero-hit-sound" src="sounds/hero-hit.mp3" preload="auto"></audio>
    <audio id="game-over-bgm" src="sounds/game-over.mp3" preload="auto"></audio>
    <audio id="bgm" src="sounds/fantasy_background.mp3" preload="auto" loop></audio>

    <!-- 입력 영역 (form) -->
    <form id="typing-form" class="typing-area" autocomplete="off">
      <div class="info">
        <span id="score">무찌른 몬스터 수: 0</span>
        <span id="gold">얻은 금화: 0</span>
      </div>

      <div class="word-box" id="word"></div>

      <input
        type="text"
        id="input"
        inputmode="text"
        enterkeyhint="done"
        autocapitalize="off"
        autocorrect="off"
        autocomplete="off"
        aria-label="단어 입력"
      />

      <button id="submit-btn" type="submit" class="primary-btn" aria-label="입력 제출">확인</button>

      <div class="music-toggle">
        <button id="mute-btn" type="button" aria-label="소리 켜기/끄기" aria-pressed="false">
          <img id="music-icon" src="icons/music-on.png" alt="음악 아이콘" />
        </button>
      </div>
    </form>

    <!-- 나머지 효과음 -->
    <audio id="gold-sound" src="sounds/gold.mp3" preload="auto"></audio>
    <audio id="hit-sound" src="sounds/hit.mp3" preload="auto"></audio>
  </div>

  <!-- 스크립트는 항상 마지막에 -->
  <script src="script.js"></script>
  <style>
  .monitor { position: relative; }

  /* 공통: 모니터 기준으로 강제 배치 */
  .monitor #game-over,
  .monitor #retry-btn {
    position: absolute !important;
    left: 50% !important;
    transform: translateX(-50%) !important;
    z-index: 30;
  }

  /* 원하는 위치(예: 중앙 위쪽 + 그 아래 버튼) */
  .monitor #game-over {
    top: 40% !important;       /* 필요하면 35~50% 사이로 조정 */
    opacity: 0;
    transition: transform 0.6s ease, opacity 0.6s ease;
  }
  .monitor #game-over.show-game-over {
    opacity: 1;
    transform: translate(-50%, -10%) !important;
  }

  .monitor #retry-btn {
    top: calc(40% + 64px) !important; /* Game Over 아래로 64px */
    opacity: 0;
    transition: opacity 0.4s ease;
  }
  .monitor #retry-btn.show { opacity: 1; }
</style>
</body>
</html>
